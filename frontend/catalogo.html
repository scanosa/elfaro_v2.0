<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Sitio de libros">
    <meta name="author" content="Emilia Hassan, Federico Farola, Gustavo Recalde, Sebastian Canosa">
    <meta name="keywords" content="Libros, comics">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EL Faro</title>
    <link rel="shortcut icon" type="image/x-icon" href="./img/favicon.ico">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
        crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
        integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer">
    <link rel="stylesheet" href="./css/style_1.css">
    <link rel="stylesheet" href="./css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
</head>

<body>

    <header>
        <div id="navbar-container"></div>
        <!--  <h1 class="efect bg-light">"EL FARO!"</h1> -->
        <form class="d-flex" id="search-form">
            <input class="form-control me-2 d-flex flex-fill" type="search" placeholder="Buscar" aria-label="Search" id="search-input">
            <button class="btn btn-outline-success flex-shrink-0" type="submit">Buscar</button>
        </form>
    </header>

    <main>
        <div class="container-fluid border bg-light p-5">
            <h2 class="text-black text-center py-2">
                En "El Faro", encontrarás los mejores libros del género de suspenso y terror
            </h2>
        </div>

        <div id="app">
            <section>
<div class="container mt-2">
    <div class="row p-4">
        <div v-for="libro in libros" :key="libro.id" class="col-lg-4 col-md-6 mb-4">
            <div class="card card_1">
                <a :href="'preview_libro.html?id=' + libro.id">
                    <img :src="libro.img" class="card-img-top img-fluid mx-auto d-block p-4 libro-img">
                </a>
                <div class="card-body">
                    <h5 class="card-title">
                        <a :href="'preview_libro.html?id=' + libro.id">{{ libro.nombre }}</a>
                    </h5>
                    <p class="card-text">{{ libro.descripcion }}</p>
                    <p class="card-text"><strong>Autor:</strong> {{ libro.autor }}</p>
                    <!-- <p class="card-text"><strong>Precio:</strong> ${{ libro.precio }}</p>
                    <p class="card-text"><strong>Genero:</strong> {{ libro.genero }}</p>
                    <p class="card-text"><strong>Editorial:</strong> {{ libro.editorial }}</p> -->                   
                    <a :href="'http://' + libro.link" target="_blank" class="btn btn-primary">Comprar</a>
                </div>
            </div>
        </div>
    </div>
</div>
            </section>
        </div>

        <hr class="hr-dashed" />
    </main>

    <!-- FOOTER -->
    <div id="footer-container"></div>
    
        <!-- Vue.js y Bootstrap JS y Popper.js CDN -->
        <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
        <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@2.11.8/dist/umd/popper.min.js"
            integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
            integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
            crossorigin="anonymous"></script>
    
            <!-- Script para manejar la búsqueda -->
            <script src="/buscador.js"></script>

        <!-- Script para obtener los libros con Vue.js -->
        <script>
            new Vue({
                el: '#app',
                data: {
                    libros: []
                },
                mounted() {
                    //fetch('http://localhost:5000/libros/all')
                    fetch('http://scanosa.pythonanywhere.com/libros/all')
                        .then(response => response.json())
                        .then(data => {
                            this.libros = data;
                        })
                        .catch(error => {
                            console.error('Error al obtener los libros:', error);
                        });
                }
            });
        </script>

        <script src="js/header.js"></script>
        <script src="js/footer.js"></script>
        <script src="js/desarrollador.js"></script>
    </body>
    
    </html>